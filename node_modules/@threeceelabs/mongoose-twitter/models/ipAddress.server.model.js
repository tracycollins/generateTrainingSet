const mongoose = require("mongoose");
const Schema = mongoose.Schema;
const moment = require("moment");

const IpAddressSchema = new Schema({
	ip: {   // just use socket.id???
		type: String,
		trim: true,
		unique: true
	},
	createdAt: { 
		type: Number,
		default: moment().valueOf()
	},
	lastSeen: { 
		type: Number,
		default: moment().valueOf()
	},
	lastSession: { 
		type: String
	},
	sessions: {
		type: Schema.Types.Mixed,
		default: []
	}
});

mongoose.model("IpAddress", IpAddressSchema);