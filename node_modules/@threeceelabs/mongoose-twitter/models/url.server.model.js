const mongoose = require("mongoose");
mongoose.Promise = global.Promise;
const Schema = mongoose.Schema;

exports.UrlSchema = new Schema({
	urlId: { // "cfc3oNLAok" of http(s)://t.co/cfc3oNLAok
		type: String,
		unique: true
	},
	nodeType: { 
		type: String,
		default: "url"
	},
	nodeId: {  // for D3.js
		type: String
	},
	url: { 
		type: String
	},
	displayUrl: { 
		type: String
	},
	expandedUrl: { 
		type: String
	},
	tags: { 
		type: mongoose.Schema.Types.Mixed,
		default: {}
	},
	createdAt: {   // in ms
		// type: String
		type: Date, default: Date.now
	},
	lastSeen: {   // in ms
		// type: String
		type: Date, default: Date.now
	},
	lastTweetId: { type: String },
	mentions: {
		type: Number,
		default: 0
	}
});